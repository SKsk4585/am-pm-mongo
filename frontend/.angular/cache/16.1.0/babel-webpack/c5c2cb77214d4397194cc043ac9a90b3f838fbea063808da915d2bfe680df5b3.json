{"ast":null,"code":"import _asyncToGenerator from \"C:/full-stack/angular/MAEN-Stuck/am-pm/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListComponent = class ListComponent {\n  constructor(productService) {\n    this.productService = productService;\n  }\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this.products = yield _this.productService.getAllProduct();\n        _this.categories = yield _this.productService.getAllCategories();\n      } catch (err) {\n        console.log(err);\n      }\n    })();\n  }\n  getProductByCategory() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (!_this2.categoryId) _this2.products = yield _this2.productService.getAllProduct();\n        _this2.products = yield _this2.productService.getProductsByCaterory(_this2.categoryId);\n      } catch (error) {}\n    })();\n  }\n  deleteProduct(_id) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (!window.confirm(\"are yuo sure\")) return;\n        yield _this3.productService.deleteProduct(_id);\n        _this3.products = _this3.products.filter(p => p._id !== _id);\n      } catch (error) {}\n    })();\n  }\n};\nListComponent = __decorate([Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})], ListComponent);\nexport { ListComponent };","map":{"version":3,"names":["Component","ListComponent","constructor","productService","ngOnInit","_this","_asyncToGenerator","products","getAllProduct","categories","getAllCategories","err","console","log","getProductByCategory","_this2","categoryId","getProductsByCaterory","error","deleteProduct","_id","_this3","window","confirm","filter","p","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\full-stack\\angular\\MAEN-Stuck\\am-pm\\frontend\\src\\app\\components\\product-area\\list\\list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CatygoryModel, productModel } from 'src/app/models/product-model';\nimport { ProductsService } from 'src/app/service/products.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent implements OnInit{\n  public products: productModel[]\n  public categories: CatygoryModel[]\n  public categoryId: string\n  public constructor(private productService: ProductsService) {}\n\n  async ngOnInit(): Promise <void>{\n    try {\n      this.products = await this.productService.getAllProduct() \n      this.categories = await this.productService.getAllCategories()     \n    } \n    catch (err) {\n      console.log(err)      \n    }    \n  }\n\npublic async getProductByCategory(): Promise<void>{\n  try {\n    if(!this.categoryId) this.products = await this.productService.getAllProduct()\n    this.products = await this.productService.getProductsByCaterory(this.categoryId)\n  } \n  catch (error) {\n    \n  }\n}\n\npublic async deleteProduct(_id:string): Promise<void>{\n  try {\n    if(!window.confirm(\"are yuo sure\")) return\n    await this.productService.deleteProduct(_id)\n    this.products = this.products.filter(p=>p._id !== _id)\n  } \n  catch (error) {\n    \n  }\n}\n\n\n\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAgB,eAAe;AASjD,IAAaC,aAAa,GAA1B,MAAaA,aAAa;EAIxBC,YAA2BC,cAA+B;IAA/B,KAAAA,cAAc,GAAdA,cAAc;EAAoB;EAEvDC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACZ,IAAI;QACFD,KAAI,CAACE,QAAQ,SAASF,KAAI,CAACF,cAAc,CAACK,aAAa,EAAE;QACzDH,KAAI,CAACI,UAAU,SAASJ,KAAI,CAACF,cAAc,CAACO,gBAAgB,EAAE;OAC/D,CACD,OAAOC,GAAG,EAAE;QACVC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;;IACjB;EACH;EAEWG,oBAAoBA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAT,iBAAA;MAC/B,IAAI;QACF,IAAG,CAACS,MAAI,CAACC,UAAU,EAAED,MAAI,CAACR,QAAQ,SAASQ,MAAI,CAACZ,cAAc,CAACK,aAAa,EAAE;QAC9EO,MAAI,CAACR,QAAQ,SAASQ,MAAI,CAACZ,cAAc,CAACc,qBAAqB,CAACF,MAAI,CAACC,UAAU,CAAC;OACjF,CACD,OAAOE,KAAK,EAAE,C;IAEb;EACH;EAEaC,aAAaA,CAACC,GAAU;IAAA,IAAAC,MAAA;IAAA,OAAAf,iBAAA;MACnC,IAAI;QACF,IAAG,CAACgB,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,EAAE;QACpC,MAAMF,MAAI,CAAClB,cAAc,CAACgB,aAAa,CAACC,GAAG,CAAC;QAC5CC,MAAI,CAACd,QAAQ,GAAGc,MAAI,CAACd,QAAQ,CAACiB,MAAM,CAACC,CAAC,IAAEA,CAAC,CAACL,GAAG,KAAKA,GAAG,CAAC;OACvD,CACD,OAAOF,KAAK,EAAE,C;IAEb;EACH;CAIC;AAvCYjB,aAAa,GAAAyB,UAAA,EALzB1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACW5B,aAAa,CAuCzB;SAvCYA,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}